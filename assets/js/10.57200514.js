(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{282:function(s,a,t){s.exports=t.p+"assets/img/searchName.84114b0e.png"},283:function(s,a,t){s.exports=t.p+"assets/img/publishSuccess.a13e70db.png"},284:function(s,a,t){s.exports=t.p+"assets/img/publishSuccessResult.a7d40b0a.png"},337:function(s,a,t){"use strict";t.r(a);var e=t(1),r=Object(e.a)({},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"npm-包发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-包发布"}},[s._v("¶")]),s._v(" NPM 包发布")]),s._v(" "),e("h2",{attrs:{id:"账号注册与登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#账号注册与登录"}},[s._v("¶")]),s._v(" 账号注册与登录")]),s._v(" "),e("p",[s._v("先去"),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v("注册账号")]),s._v(" "),e("p",[s._v('第一次登陆：命令行执行命令"添加用户"')]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser\n（username）输入你的用户名\n（password）输入你的密码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v('第二次以上登陆：命令行执行命令"登录用户"')]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\n（username）输入你的用户名\n（password）输入你的密码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"创建包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建包"}},[s._v("¶")]),s._v(" 创建包")]),s._v(" "),e("p",[s._v("在要创建文件夹的路径下，打开命令行。执行")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("按照指示填写所有信息。")]),s._v(" "),e("ul",[e("li",[s._v("name 填写时，为了和 "),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v(" 上已有的包冲突导致提交不成功，可以先去 npm 上搜下有没有同名的包已经被人抢先注册发布上去了。")])]),s._v(" "),e("p",[s._v("比如我这个名字搜索时就发现已经被人注册了\n"),e("img",{attrs:{src:t(282),alt:"比如我这个名字搜索时就发现已经被人注册了"}})]),s._v(" "),e("h2",{attrs:{id:"发布包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布包"}},[s._v("¶")]),s._v(" 发布包")]),s._v(" "),e("p",[s._v("在要发布的包处打开命令行，执行命令如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"发布报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布报错"}},[s._v("¶")]),s._v(" 发布报错")]),s._v(" "),e("h3",{attrs:{id:"_1、没权限发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、没权限发布"}},[s._v("¶")]),s._v(" 1、没权限发布")]),s._v(" "),e("p",[e("strong",[s._v("具体报错如下：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("403")]),s._v(" Forbidden - PUT https://registry.npmjs.org/npm-publish-test - You "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" not have permission to publish "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm-publish-test"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" Are you logged "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as the correct user?\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("翻译：")]),e("br"),s._v("\n“您没有发布“np -publish-test”的权限。您是作为正确的用户登录的吗?”")]),s._v(" "),e("p",[e("strong",[s._v("原因分析：")]),e("br"),s._v("\n你要发布的包跟已有的包重名了。")]),s._v(" "),e("p",[e("strong",[s._v("解决方案：")]),e("br"),s._v("\n你要发布的包的 package.json 里边，name 的值赋值出来去"),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v(" 搜索一下看是否确实有同名的包已经被人抢先注册发布上去了。")]),s._v(" "),e("p",[s._v("是的话，改个名字重新发布。（即把 name 的值改一下。确定 npm 上没有这个名字的包再去发布。）")]),s._v(" "),e("h3",{attrs:{id:"_2、包名触发垃圾回收机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、包名触发垃圾回收机制"}},[s._v("¶")]),s._v(" 2、包名触发垃圾回收机制")]),s._v(" "),e("p",[e("strong",[s._v("具体报错如下：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("403")]),s._v(" Forbidden - PUT https://registry.npmjs.org/npm-publish-test233333 - Package name triggered spam detection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you believe this is "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" error, please contact support@npmjs.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("翻译：")]),e("br"),s._v("\n“包名触发垃圾邮件检测; 如果您认为这是错误的，请联系 support@npmjs.com”")]),s._v(" "),e("p",[e("strong",[s._v("原因分析：")]),e("br"),s._v("\n你要发布的包名字容易被当做垃圾包删掉。改个正常的名字。")]),s._v(" "),e("p",[e("strong",[s._v("解决方案：")]),e("br"),s._v("\n你要发布的包的 package.json 里边，name 的值赋值出来去"),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v(" 搜索一下看是否确实有同名的包已经被人抢先注册发布上去了。")]),s._v(" "),e("p",[s._v("是的话，改个名字重新发布。（即把 name 的值改一下。确定 npm 上没有这个名字的包再去发布。）")]),s._v(" "),e("h3",{attrs:{id:"_3、邮箱认证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、邮箱认证"}},[s._v("¶")]),s._v(" 3、邮箱认证")]),s._v(" "),e("p",[e("strong",[s._v("具体报错如下：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("E403\nyou must verify your email before publishing a new package:\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("翻译：")]),e("br"),s._v("\n“发布一个 npm 包之前，你需要先认证你的邮箱”")]),s._v(" "),e("p",[e("strong",[s._v("原因分析：")]),e("br"),s._v("\n没有认证邮箱")]),s._v(" "),e("p",[e("strong",[s._v("解决方案：")]),e("br"),s._v("\n去"),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v("个人设置界面认证邮箱并激活即可")]),s._v(" "),e("h3",{attrs:{id:"_4、淘宝镜像源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、淘宝镜像源"}},[s._v("¶")]),s._v(" 4、淘宝镜像源")]),s._v(" "),e("p",[e("strong",[s._v("具体报错如下：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("E403\nno_perms Private mode enable, only admin can publish this module:\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("翻译：")]),e("br"),s._v("\n“no_perms 私有模式启用，只有管理员可以发布此模块:”")]),s._v(" "),e("p",[e("strong",[s._v("原因分析：")]),e("br"),s._v("\n报错原因是因为 使用的是淘宝源 cnpm,登陆到的是 cnpm ("),e("a",{attrs:{href:"https://www.jianshu.com/p/ce188df81540/",target:"_blank",rel:"noopener noreferrer"}},[s._v("引自"),e("OutboundLink")],1),s._v(")")]),s._v(" "),e("p",[e("strong",[s._v("解决方案：")]),e("br"),s._v("\n使用命令将仓库设置还原，切换到 npmjs 的网址。代码如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://registry.npmjs.org/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"发布成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布成功"}},[s._v("¶")]),s._v(" 发布成功")]),s._v(" "),e("p",[s._v("胜利就长这个样子!")]),s._v(" "),e("p",[e("img",{attrs:{src:t(283),alt:"发布成功"}})]),s._v(" "),e("p",[s._v("去"),e("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 官网"),e("OutboundLink")],1),s._v(" 搜索结果，发现确实发布成功\n"),e("img",{attrs:{src:t(284),alt:"发布成功结果"}})]),s._v(" "),e("h2",{attrs:{id:"其他-npm-命令搜集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他-npm-命令搜集"}},[s._v("¶")]),s._v(" 其他 npm 命令搜集")]),s._v(" "),e("h3",{attrs:{id:"检查仓库淘宝镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查仓库淘宝镜像"}},[s._v("¶")]),s._v(" 检查仓库淘宝镜像")]),s._v(" "),e("p",[s._v("检查仓库是否被设成了淘宝镜像库检查")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"回撤仓库淘宝镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#回撤仓库淘宝镜像"}},[s._v("¶")]),s._v(" 回撤仓库淘宝镜像")]),s._v(" "),e("p",[s._v("若不想设置淘宝镜像，使用命令将仓库设置还原")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://registry.npmjs.org\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"设置淘宝镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置淘宝镜像"}},[s._v("¶")]),s._v(" 设置淘宝镜像")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("Vssue",{attrs:{title:"【npm】npm包发布"}})],1)},[],!1,null,null,null);a.default=r.exports}}]);